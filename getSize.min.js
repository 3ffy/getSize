/* getSize.js - version: 1.0 - author: 3ffy (AurÃ©lien Gy) - aureliengy@gmail.com - http://www.aureliengy.com - licence: MIT (@see licence file) // based on the marvelous Css-element-queries library - author: marcj - http://marcj.github.io/css-element-queries/ - licence: MIT (@see licence file on http://marcj.github.io/css-element-queries/). */
!function(){function e(){t.instance=(new t).init(),t.update=function(){t.instance.update()}}var t=this.ElementQueries=function(){function e(e){e||(e=document.documentElement)
var t=getComputedStyle(e,"fontSize")
return parseFloat(t)||16}function t(t,i){var n=i.replace(/[0-9]*/,"")
switch(i=parseFloat(i),n){case"px":return i
case"em":return i*e(t)
case"rem":return i*e()
case"vw":return i*document.documentElement.clientWidth/100
case"vh":return i*document.documentElement.clientHeight/100
case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100,r=Math["vmin"===n?"min":"max"]
return i*r(o,s)
default:return i}}function i(e){this.element=e,this.options={}
var i,n,o,s,r,l,d,c=0,a=0
this.addOption=function(e){var t=[e.mode,e.property,e.value].join(",")
this.options[t]=e}
var h=["min-width","min-height","max-width","max-height"]
this.call=function(){c=this.element.offsetWidth,a=this.element.offsetHeight,r={}
for(i in this.options)this.options.hasOwnProperty(i)&&(n=this.options[i],o=t(this.element,n.value),s="width"==n.property?c:a,d=n.mode+"-"+n.property,l="","min"==n.mode&&s>=o&&(l+=n.value),"max"==n.mode&&o>=s&&(l+=n.value),r[d]||(r[d]=""),l&&-1===(" "+r[d]+" ").indexOf(" "+l+" ")&&(r[d]+=" "+l))
for(var e in h)r[h[e]]?this.element.setAttribute(h[e],r[h[e]].substr(1)):this.element.removeAttribute(h[e])}}function n(e,t){e.elementQueriesSetupInformation?e.elementQueriesSetupInformation.addOption(t):(e.elementQueriesSetupInformation=new i(e),e.elementQueriesSetupInformation.addOption(t),new ResizeSensor(e,function(){e.elementQueriesSetupInformation.call()})),e.elementQueriesSetupInformation.call()}function o(e,t,i,o){var s
if(document.querySelectorAll&&(s=document.querySelectorAll.bind(document)),s||"undefined"==typeof $$||(s=$$),s||"undefined"==typeof jQuery||(s=jQuery),!s)throw"No document.querySelectorAll, jQuery or Mootools's $$ found."
for(var r=s(e),l=0,d=r.length;d>l;l++)n(r[l],{mode:t,property:i,value:o})}function s(e){var t
for(e=e.replace(/'/g,'"');null!==(t=l.exec(e));)5<t.length&&o(t[1]||t[5],t[2],t[3],t[4])}function r(e){var t=""
if(e)if("string"==typeof e)e=e.toLowerCase(),(-1!==e.indexOf("min-width")||-1!==e.indexOf("max-width"))&&s(e)
else for(var i=0,n=e.length;n>i;i++)1===e[i].type?(t=e[i].selectorText||e[i].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?s(t):(-1!==t.indexOf("min-width")||-1!==t.indexOf("max-width"))&&s(t)):4===e[i].type&&r(e[i].cssRules||e[i].rules)}var l=/,?([^,\n]*)\[[\s\t]*(min|max)-(width|height)[\s\t]*[~$\^]?=[\s\t]*"([^"]*)"[\s\t]*]([^\n\s\{]*)/gim
this.init=function(){for(var e=0,t=document.styleSheets.length;t>e;e++)r(document.styleSheets[e].cssText||document.styleSheets[e].cssRules||document.styleSheets[e].rules)},this.update=function(){this.init()}}
window.addEventListener?window.addEventListener("load",e,!1):window.attachEvent("onload",e)}(),function(){this.ResizeSensor=function(e,t,i){function n(){this.q=[],this.add=function(e){this.q.push(e)}
var e,t
this.call=function(i,n){for(e=0,t=this.q.length;t>e;e++)this.q[e].call(this,n)}}function o(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue(t):e.style[t]}function s(e,t,i){if(e.resizedAttached)return!i&&e.resizedAttached?void e.resizedAttached.add(t):void 0
e.resizedAttached=new n,e.resizedAttached.add(t),e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor"
var s="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: scroll; z-index: -1; visibility: hidden;",r="position: absolute; left: 0; top: 0;"
e.resizeSensor.style.cssText=s,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+s+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+s+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),{fixed:1,absolute:1}[o(e,"position")]||(e.style.position="relative")
var l,d,c=e.resizeSensor.childNodes[0],a=c.childNodes[0],h=e.resizeSensor.childNodes[1],u=(h.childNodes[0],function(){a.style.width=c.offsetWidth+10+"px",a.style.height=c.offsetHeight+10+"px",c.scrollLeft=c.scrollWidth,c.scrollTop=c.scrollHeight,h.scrollLeft=h.scrollWidth,h.scrollTop=h.scrollHeight,l=e.offsetWidth,d=e.offsetHeight})
u()
var f=function(t){e.resizedAttached.call(this,t)},m=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)}
m(c,"scroll",function(){var t=e.offsetWidth,i=e.offsetHeight
if(t>l||i>d){var n={element:e,width:t,lastWidth:l,height:i,lastHeight:d}
f(n)}u()}),m(h,"scroll",function(){var t=e.offsetWidth,i=e.offsetHeight
if(e.offsetWidth<l||e.offsetHeight<d){var n={element:e,width:t,lastWidth:l,height:i,lastHeight:d}
f(n)}u()})}if("[object Array]"===Object.prototype.toString.call(e)||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements)for(var r=0,l=e.length;l>r;r++)s(e[r],t,i)
else s(e,t,i)}}(),function(e){var t=function(t){var i=t.element
delete t.element,e(i).trigger("resize",t)}
e.fn.resizeSensor=function(){var i
return this.each(function(){if(i=e(this),0==i.is("div")&&0==i.is("span"))throw"ResizeSensor: Your selector contain some elements impossible to monitoring"}),new ResizeSensor(this,t,!0),this}}(jQuery,window,document)